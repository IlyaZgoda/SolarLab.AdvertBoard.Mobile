<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pageModels="clr-namespace:SolarLab.AdvertBoard.Mobile.Presentation.PageModels"
             xmlns:f="clr-namespace:Fonts"
             xmlns:sf="clr-namespace:Syncfusion.Maui.Toolkit.TextInputLayout;assembly=Syncfusion.Maui.Toolkit"
             x:Class="SolarLab.AdvertBoard.Mobile.Presentation.Pages.RegisterPage"
             x:DataType="pageModels:RegisterPageModel"
             Title="Регистрация"
             BackgroundColor="{AppThemeBinding Light={StaticResource LightBackground}, Dark={StaticResource DarkBackground}}">

    <Shell.BackButtonBehavior>
        <BackButtonBehavior Command="{Binding BackCommand}"/>
    </Shell.BackButtonBehavior>

    <ScrollView>
        <VerticalStackLayout Padding="32, 40" Spacing="24" VerticalOptions="Center">

            <!-- Логотип/Акцентная иконка (ЦВЕТНАЯ И БОЛЬШАЯ) -->
            <Image HeightRequest="80"
                   WidthRequest="80"
                   HorizontalOptions="Center"
                   Margin="0,0,0,10">
                <Image.Source>
                    <FontImageSource Glyph="{x:Static f:FluentUI.slide_text_person_24_regular}" 
                                     FontFamily="{x:Static f:FluentUI.FontFamily}"
                                     Size="80"
                                     Color="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource PrimaryDark}}"/>
                </Image.Source>
            </Image>

            <!-- Заголовок -->
            <Label Text="Создайте аккаунт" 
                   Style="{StaticResource Title1}"
                   HorizontalOptions="Center"
                   Margin="0,0,0,10"/>

            <!-- Карточка формы -->
            <Border Background="{AppThemeBinding Light={StaticResource LightBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                    StrokeThickness="0"
                    Padding="24"
                    StrokeShape="RoundRectangle 20">

                <Border.Shadow>
                    <Shadow Brush="{AppThemeBinding Light={StaticResource Gray300}, Dark={StaticResource Black}}"
                            Opacity="0.20"
                            Offset="0,6"
                            Radius="18" />
                </Border.Shadow>

                <VerticalStackLayout Spacing="22">

                    <!-- Фамилия (обязательное) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Фамилия"
                        HelperText="Обязательно *"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding LastName}"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Имя (обязательное) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Имя"
                        HelperText="Обязательно *"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding FirstName}"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Отчество (необязательно) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Отчество"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding MiddleName}"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Email для входа (обязательное) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Email"
                        HelperText="Обязательно *"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding Email}"
                               Keyboard="Email"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Контактный email (необязательно) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Контактный Email"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding ContactEmail}"
                               Keyboard="Email"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Телефон (необязательно) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Телефон"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding PhoneNumber}"
                               Keyboard="Telephone"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <!-- Пароль (обязательное) -->
                    <sf:SfTextInputLayout 
                        Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
                        Hint="Пароль"
                        HelperText="Обязательно *"
                        EnablePasswordVisibilityToggle="True"
                        ContainerType="Outlined"
                        LeadingViewPosition="Inside"
                        OutlineCornerRadius="12">
                        <Entry Text="{Binding Password}"
                               IsPassword="True"
                               Style="{StaticResource Body1}"
                               TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                    <sf:SfTextInputLayout 
    Stroke="{AppThemeBinding Light={StaticResource Primary}, Dark={StaticResource Gray400}}"
    Hint="Пароль"
                        HelperText="Подтвердите пароль*"
    EnablePasswordVisibilityToggle="True"
    ContainerType="Outlined"
    LeadingViewPosition="Inside"
    OutlineCornerRadius="12">
                        <Entry Text="{Binding Password}"
           IsPassword="True"
           Style="{StaticResource Body1}"
           TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"/>
                    </sf:SfTextInputLayout>

                </VerticalStackLayout>
            </Border>

            <!-- Кнопка Зарегистрироваться -->
            <Button Text="Зарегистрироваться"
                    Command="{Binding RegisterCommand}"
                    Style="{StaticResource PrimaryButton}"
                    Margin="0,16,0,0"/>

            <!-- Ссылка на вход -->
            <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                <Label Text="Уже есть аккаунт?"
                       Style="{StaticResource Body1}"
                       TextColor="{AppThemeBinding Light={StaticResource Gray600}, Dark={StaticResource Gray400}}" />
                <Label Text="Войти"
                       Style="{StaticResource Body1Strong}"
                       TextColor="{AppThemeBinding Light={StaticResource Tertiary}, Dark={StaticResource Primary}}">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding GoToLoginCommand}" />
                    </Label.GestureRecognizers>
                </Label>
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>