<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pageModels="clr-namespace:SolarLab.AdvertBoard.Mobile.Presentation.PageModels"
             x:Class="SolarLab.AdvertBoard.Mobile.Presentation.Pages.RegisterPage"
             x:DataType="pageModels:RegisterPageModel"
             Title="Регистрация">
    
    <Shell.BackButtonBehavior>
        <BackButtonBehavior Command="{Binding BackCommand}"/>
    </Shell.BackButtonBehavior>
    
    <ScrollView>
        <VerticalStackLayout Padding="24" Spacing="20" VerticalOptions="Center">

            <!-- Заголовок -->
            <Label Text="Создайте аккаунт" 
                   FontSize="24" 
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />

            <!-- Фамилия (обязательное) -->
            <StackLayout>
                <Label>
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Фамилия " 
                                  TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                            <Span Text="*" TextColor="Red" />
                        </FormattedString>
                    </Label.FormattedText>
                </Label>
                <Entry Text="{Binding LastName}" 
                       Placeholder="Введите фамилию"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Имя (обязательное) -->
            <StackLayout>
                <Label>
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Имя " 
                                  TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                            <Span Text="*" TextColor="Red" />
                        </FormattedString>
                    </Label.FormattedText>
                </Label>
                <Entry Text="{Binding FirstName}" 
                       Placeholder="Введите имя"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Отчество (необязательно) -->
            <StackLayout>
                <Label Text="Отчество"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                <Entry Text="{Binding MiddleName}" 
                       Placeholder="Введите отчество"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Email для входа (обязательное) -->
            <StackLayout>
                <Label>
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Email " 
                                  TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                            <Span Text="*" TextColor="Red" />
                        </FormattedString>
                    </Label.FormattedText>
                </Label>
                <Entry Text="{Binding Email}" 
                       Placeholder="Введите Email"
                       Keyboard="Email"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Контактный email (необязательно) -->
            <StackLayout>
                <Label Text="Контактный Email"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                <Entry Text="{Binding ContactEmail}" 
                       Placeholder="Введите контактный email"
                       Keyboard="Email"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Телефон (необязательно) -->
            <StackLayout>
                <Label Text="Телефон"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                <Entry Text="{Binding PhoneNumber}" 
                       Placeholder="Введите номер телефона"
                       Keyboard="Telephone"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Пароль (обязательное) -->
            <StackLayout>
                <Label>
                    <Label.FormattedText>
                        <FormattedString>
                            <Span Text="Пароль " 
                                  TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                            <Span Text="*" TextColor="Red" />
                        </FormattedString>
                    </Label.FormattedText>
                </Label>
                <Entry Text="{Binding Password}" 
                       IsPassword="True"
                       Placeholder="Введите пароль"
                       HeightRequest="50"
                       BackgroundColor="{AppThemeBinding Light={StaticResource LightSecondaryBackground}, Dark={StaticResource DarkSecondaryBackground}}"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}"
                       PlaceholderColor="{AppThemeBinding Light={StaticResource Gray500}, Dark={StaticResource Gray400}}"
                       CornerRadius="8"
                       Padding="12"/>
            </StackLayout>

            <!-- Кнопка Зарегистрироваться -->
            <Button Text="Зарегистрироваться"
                    Command="{Binding RegisterCommand}"
                    HeightRequest="50"
                    CornerRadius="8"
                    BackgroundColor="{AppThemeBinding Light={StaticResource PrimaryColor}, Dark={StaticResource PrimaryColorDark}}"
                    TextColor="White"
                    FontAttributes="Bold" />

            <!-- Ссылка на вход -->
            <HorizontalStackLayout HorizontalOptions="Center" Spacing="5">
                <Label Text="Уже есть аккаунт?"
                       TextColor="{AppThemeBinding Light={StaticResource DarkOnLightBackground}, Dark={StaticResource LightOnDarkBackground}}" />
                <Label Text="Войти"
                       TextColor="{AppThemeBinding Light={StaticResource PrimaryColor}, Dark={StaticResource PrimaryColorDark}}"
                       FontAttributes="Bold">
                    <Label.GestureRecognizers>
                        <TapGestureRecognizer Command="{Binding GoToLoginCommand}" />
                    </Label.GestureRecognizers>
                </Label>
            </HorizontalStackLayout>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
