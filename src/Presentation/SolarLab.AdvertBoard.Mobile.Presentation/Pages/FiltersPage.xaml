<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:local="clr-namespace:SolarLab.AdvertBoard.Mobile.Presentation.PageModels"
             xmlns:filters="clr-namespace:SolarLab.AdvertBoard.Mobile.Presentation.Pages.Controls.Filters"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SolarLab.AdvertBoard.Mobile.Presentation.Pages.FiltersPage"
             x:DataType="local:FiltersPageModel"
             Title="Фильтры">
    


    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Сбросить"
                     Command="{Binding ResetFiltersCommand}"
                     Order="Primary"
                     Priority="0"
                     IsEnabled="{Binding HasActiveFilters}" />
    </ContentPage.ToolbarItems>
    
    <Grid RowDefinitions="Auto,*,Auto" Padding="16" Margin="0,12,0,0">

        <!-- Хлебные крошки (фиксированная сверху) -->
        <filters:FilterCategoryBreadcrumbView Grid.Row="0" Margin="0,0,0,12" />

        <!-- ScrollView с категориями и фильтрами -->
        <ScrollView Grid.Row="1">
            <VerticalStackLayout Spacing="24">
                <filters:CategoryLevelSelectorView />
                <filters:PriceFilterView />
                <filters:SortFilterView />
                <!-- Можно добавить другие фильтры сюда -->
            </VerticalStackLayout>
        </ScrollView>

        <!-- Кнопка Применить приклеена к низу -->
        <Button Grid.Row="2"
            Text="Применить"
            Command="{Binding ApplyCommand}"
            HeightRequest="48"
            CornerRadius="12"
            BackgroundColor="{StaticResource Primary}"
            TextColor="White"
            HorizontalOptions="Fill"/>
    </Grid>


</ContentPage>